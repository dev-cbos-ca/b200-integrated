<!DOCTYPE html>
<html lang="en-CA">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title></title>
<meta name="robots" content="noindex,nofollow" />
<link rel=stylesheet href="/center/theme/css/style.css">
<link rel=stylesheet href="/center/theme/css/child.css">
</head>
<body>
<div class="notice"></div>
<div class="container">
<header class="site">
<div class="wrap">
<div class="inner">
<div class="title"><a href="/mathematics/" title="">Mathematics</a></div>
<div class="description hide"></div>
</div>
</div>
</header>
<div class="spacer spacer-header spacer-header-bottom"></div>
<div class="site">
<div class="page">

<article>
<h1>Haversine Forumula</h1>
<pre>
function haversine_distance(coords1, coords2) {

     function toRad(x) {
         return x * Math.PI / 180;
    }

  var dLat = toRad(coords2.latitude - coords1.latitude);
  var dLon = toRad(coords2.longitude - coords1.longitude)

  var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
          Math.cos(toRad(coords1.latitude)) * 
          Math.cos(toRad(coords2.latitude)) *
          Math.sin(dLon / 2) * Math.sin(dLon / 2);

  return 12742 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
}
</pre>

<cite>https://stackoverflow.com/a/38549345/5449906</cite>

<pre>
/**
 * Calculates the haversine distance between point A, and B.
 * @param {number[]} latlngA [lat, lng] point A
 * @param {number[]} latlngB [lat, lng] point B
 * @param {boolean} isMiles If we are using miles, else km.
 */
function haversineDistance(latlngA, latlngB, isMiles) {
  const toRad = x => (x * Math.PI) / 180;
  const R = 6371; // km

  const dLat = toRad(latlngB[1] - latlngA[1]);
  const dLatSin = Math.sin(dLat / 2);
  const dLon = toRad(latlngB[0] - latlngA[0]);
  const dLonSin = Math.sin(dLon / 2);

  const a = (dLatSin * dLatSin) +
            (Math.cos(toRad(latlngA[1])) * Math.cos(toRad(latlngB[1])) * dLonSin * dLonSin);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  let distance = R * c;

  if (isMiles) distance /= 1.60934;

  return distance;
}
</pre>

<cite>https://stackoverflow.com/a/48805273/5449906</cite>
</article>

<aside class="page"></aside>
</div><!-- .page -->
<aside class="site"></aside>
<nav class="site"></nav>
</div><!-- .site -->
<div class="spacer spacer-footer spacer-footer-top"></div>
<footer class="site">
<div class="inner">
</div>
</footer>
</div><!-- .container -->
<div class="base"></div>
</body>
</html>